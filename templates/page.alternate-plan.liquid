{%- assign product1 = all_products['strong-pink-plan'] -%}
{%- assign product2 = all_products['very-blue-plan'] -%}
{%- assign product3 = all_products['deep-red-plan'] -%}
{%- assign product4 = all_products['bright-yellow-plan'] -%}
<section class="section-membership section-overlay-plan pb-5 mb-5">
  <div class="container">
    <div class="section-title text-center pt-3 pb-3">
      <h1 class="title text-white pt-5 pb-5 mb-0">Internet For Every Area</h1>
    </div>
    <div class="row">
      <div class="col col-12 col-sm-12 col-lg-4 mb-3 mb-lg-0">
        <div class="card card-body h-100 rounded">
          <h4 class="mb-3 mt-1"><i class="far fa-circle"></i> <span>Which Plan Is Right for Me?</span></h4>
          <p>Each color represents one of the major cellular carrier networks. Therefore, the primary difference between each plan is the coverage each network provides. View each of our plans’ coverage to identify which is most likely to work at your usage location(s). For help with selecting a plan, visit the <a href="#"> Help Me Choose </a> page. If you need help just “chat” us.</p>
        </div>
      </div>
      <div class="col col-12 col-sm-12 col-lg-4 mb-3 mb-lg-0">
        <div class="card card-body h-100 rounded">
          <h4 class="mb-3 mt-1"><i class="far fa-circle"></i> Which Device Is Right for Me?</h4>
          <p>The two main devices we offer can be used at the same places but have slight advantages over each other. The “Travel WiFi Router” has a battery and can be used at your home, office or even in the car. The “WiFi Router” has external antennas so it can achieve faster speeds (especially in more rural areas). All of our devices ship pre-configured ready to plug in. No setup required.</p>
        </div>
      </div>
      <div class="col col-12 col-sm-12 col-lg-4 mb-3 mb-lg-0">
        <div class="card card-body h-100 rounded">
          <h4 class="mb-3 mt-1"><i class="far fa-circle"></i> What if It Doesn’t Work for Me?</h4>
          <p>If the plan you initially choose does not connect or is slower than expected we have you covered! You can change plans until you get the speeds you need and we will ship you new plans until we find the best one for you. Finally, if you are not 100% happy our 14-Day No-Risk Return Policy allows return your device for a full refund.</p>
        </div>
      </div>
    </div>
  </div>
</section>
<section class="membership-plans pb-lg-5 pt-lg-5 mt-5 mb-lg-5">
  <div class="container">
    <div class="section-title col-12 col-lg-6 pl-lg-0 pt-lg-5 pb-5">
      <h2 class="title">Membership Plans</h2>
      <p style="color:#000; font-weight:500;">Browse below to find the coverage plan and<br class="d-none d-md-block">
        device that best fits you.</p>
      <ul class="list-unstyled row mt-5">
        <li class="col-md-4 col-lg-6 mb-4 d-flex align-items-center"><i class="fas fa-check"></i> 4G LTE</li>
        <li class="col-md-4 col-lg-6 mb-4 d-flex align-items-center"><i class="fas fa-check"></i> No Contract</li>
        <li class="col-md-4 col-lg-6 mb-4 d-flex align-items-center"><i class="fas fa-check"></i> No Credit Check</li>
        <li class="col-md-4 col-lg-6 mb-4 d-flex align-items-center"><i class="fas fa-check"></i> 14-Day No Risk</li>
      </ul>
    </div>
    <div class="col-12 d-block d-lg-none">
      {% render 'image' with imageSrc: 'membership-plan.png', classes: 'img-fluid', altTag: 'membership plan', isAsset: 'true' %}
    </div>
  </div>
</section>
<section id="section_plan" class="section-plan">
  <div class="container">
    <div class="row ml-0 mr-0 align-items-center border-bottom pb-4 mb-4">
      <div class="col-12 col-lg-4 pl-md-0">
        <div class="section-title">
          <h2 class="title">All Routers</h2>
        </div>
      </div>
      <div class="col-12 col-lg-8">
        <ul class="row list-unstyled justify-content-between plan-label mb-0">
          <li><i class="fas fa-circle" style="color:#F9006E; border:4px solid rgba(249, 0, 110, 0.15)"></i> STRONG PINK PLAN</li>
          <li><i class="fas fa-circle" style="color:#0078BA; border:4px solid rgba(0, 120, 186, 0.15)"></i> VERY BLUE PLAN</li>
          <li><i class="fas fa-circle" style="color:#E20000; border:4px solid rgba(226, 0, 0, 0.15)"></i> DEEP RED PLAN</li>
          <li><i class="fas fa-circle" style="color:#FFCB00; border:4px solid rgba(255, 203, 0, 0.15)"></i> BRIGHT YELLOW PLAN</li>
        </ul>
      </div>
    </div>
    <div class="row ml-0 mr-0 align-items-center pb-3 mb-5">
      <div class="col-12 col-lg-7">
        <ul class="row list-unstyled justify-content-between plan-short mb-0">
          <li class="active">All</li>
          <li>GL - Travel WiFi Router</li>
          <li>GL - WiFi Router</li>
          <li>Sim Only</li>
          <li>Nighthawk LTE Mobile Hotspot Router</li>
        </ul>
      </div>
    </div>
    <div class="row section-plan__row">
      <div class="col col-12 col-sm-12 col-md-12 col-lg-6">


        <form action="/cart/add" method="post" id="product-form-pink">
          <div class="plan-listing card-plan-list card-pink">
            <h2 class="plan-listing__title"><i class="fas fa-signal"></i> Strong <strong>Pink Plan</strong></h2>
            <div class="card-body">
              <div class="row">
                <div class="col col-12 col-md-6 pro_img">
                  <img src="{{ product1.featured_image.src | img_url:'300x300' }}" class="img-fluid" />
                </div>
                <div class="col col-12 col-md-6 no_padding">
                  <span class="price">
                    <span class="price-currencysymbol">$</span>
                    <span class="price-amount">99</span>
                    <span class="subscription-details"> / month </span>
                  </span>
                  <span class="fee d-block">( with a 14-day trial )</span>
                  <span class="fee">
                    + <del style="color:red;"><span class="price-amount_was"><span class="price-currencysymbol">$</span>199</span>  One-Time Membership Fee</del> <a href="#fee_modal" data-toggle="modal" class="money-back1 modal-link"><i class="fa fa-question-circle" aria-hidden="true"></i></a><br/>
                    <span class="hide_on_sim">+ <span class="price-amount"><span class="price-currencysymbol">$</span>149</span> Setup Sale Price</span>
                  </span>
                  <select name="id" id="productSelect_pink" class="product-single__variants form-control wc-default-select form-control-lg">
                    <option value="">Choose an option</option>
                    {% for variant in product1.variants %}
                    {% if variant.available %}
                    <option data-sku="{{ variant.sku }}" value="{{ variant.id }}">{{ variant.title }}</option>
                    {% else %}
                    <option disabled="disabled">
                      {{ variant.title }} - {{ 'products.product.sold_out' | t }}
                    </option>
                    {% endif %}
                    {% endfor %}
                  </select>
                  <script>
                    $(document).ready(function(){
                      $(document).ready(function() {
                        $("#product-form-pink select option").each(function(index, value) {
                          $("#product-form-pink select option").removeAttr("selected");
                          $("#product-form-pink select option").prop("selected", false);
                        });
                        $("#product-form-pink select option[value='GL- Travel WiFi Router']").attr('selected', 'selected').change();
                      });
                      //jQuery("#product-form-blue .single-option-selector").prop('selectedIndex', 1).trigger('change');
                    });
                  </script>
                  <div class="compare">
                    <a href="#compare_modal" data-toggle="modal" class="text-gray-600 modal-link"><i class="fas fa-mobile" aria-hidden="true"></i>&nbsp;&nbsp;Compare Devices </a>
                  </div>
                </div>
              </div>
              <div class="features row ">
                <div class="col-md">
                  <ul class="list-unstyled border-top">
                    <li><i class="fa fa-check text-primary" aria-hidden="true"></i> Unlimited 4G LTE</li>
                    <li><i class="fa fa-check text-primary" aria-hidden="true"></i> No Data Limit</li>
                    <li><i class="fa fa-check text-primary" aria-hidden="true"></i> No Throttling</li>
                  </ul>
                </div>
                <div class="col-md">
                  <ul class="list-unstyled column-collapse">
                    <li><i class="fa fa-check text-primary" aria-hidden="true"></i> No Contract</li>
                    <li><i class="fa fa-check text-primary" aria-hidden="true"></i> No Credit Check</li><li><i class="fa fa-check text-primary" aria-hidden="true"></i> <a class="text-400 modal-link" href="#guarantee_modal" data-toggle="modal" >14-Day No Risk</a></li>
                  </ul>
                </div>
              </div>
              <div class="row mt-4">
                <div class="col-md col-lg-12 col-xl">
                  <a href="https://href.li/?https://www.t-mobile.com/coverage-map.html" target="_blank" class="btn btn-lg btn-block btn-outline-plan-pink"><i class="fa fa-signal" aria-hidden="true"></i>&nbsp;&nbsp;Plan Coverage </a>
                </div>
                <div class="col-md col-lg-12 col-xl mt-4 mt-md-0 mt-lg-4 mt-xl-0">
                  <button type="button" class="btn-lg single_add_to_cart_button_pink btn-block btn btn-primary"><span><i class="fa-fw fas fa-shopping-cart" aria-hidden="true"></i>&nbsp;</span> Choose Plan</button>
                </div>
              </div>
            </div>
          </div>

        </form>


      </div> 




      <div class="col col-12 col-sm-12 col-md-12 col-lg-6">

        <form action="/cart/add" method="post" id="product-form-blue">
          <div class="plan-listing card-plan-list card-blue">
            <h2 class="plan-listing__title"><i class="fas fa-signal"></i> Very <strong>Blue Plan</strong></h2>

            <div class="card-body">
              <div class="row">
                <div class="col col-12 col-md-6 pro_img">
                  <img src="{{ product2.featured_image.src | img_url:'300x300' }}" class="img-fluid" />
                </div>
                <div class="col col-12 col-md-6 no_padding">
                  <span class="price">
                    <span class="price-currencysymbol">$</span>
                    <span class="price-amount">129</span>
                    <span class="subscription-details"> / month </span>
                  </span>
                  <span class="fee d-block">( with a 14-day trial )</span>
                  <span class="fee">
                    + <del style="color:red;"><span class="price-amount_was"><span class="price-currencysymbol">$</span>199</span>  One-Time Membership Fee</del><a href="#fee_modal" data-toggle="modal" class="money-back1 modal-link"><i class="fa fa-question-circle" aria-hidden="true"></i></a><br/>
                    <span class="hide_on_sim">+ <span class="price-amount"><span class="price-currencysymbol">$</span>149</span> Setup Sale Price</span>
                  </span>
                  <select name="id" id="productSelect_blue" class="product-single__variants form-control wc-default-select form-control-lg">
                    <option value="">Choose an option</option>
                    {% for variant in product2.variants %}
                    {% if variant.available %}
                    <option data-sku="{{ variant.sku }}" value="{{ variant.id }}">{{ variant.title }}</option>
                    {% else %}
                    <option disabled="disabled">
                      {{ variant.title }} - {{ 'products.product.sold_out' | t }}
                    </option>
                    {% endif %}
                    {% endfor %}
                  </select>
                  <script>
                    $(document).ready(function(){
                      $(document).ready(function() {
                        $("#product-form-blue select option").each(function(index, value) {
                          $("#product-form-blue select option").removeAttr("selected");
                          $("#product-form-blue select option").prop("selected", false);
                        });
                        $("#product-form-blue select option[value='Sim Only (bring your own device)']").attr('selected', 'selected').change();
                      });
                      //jQuery("#product-form-blue .single-option-selector").prop('selectedIndex', 1).trigger('change');
                    });
                  </script>
                  <div class="compare">
                    <a href="#compare_modal" data-toggle="modal" class="text-gray-600 modal-link"><i class="fas fa-mobile" aria-hidden="true"></i>&nbsp;&nbsp;Compare Devices </a>
                  </div>
                </div>
              </div>
              <div class="features row ">
                <div class="col-md">
                  <ul class="list-unstyled border-top">
                    <li><i class="fa fa-check text-primary" aria-hidden="true"></i> Unlimited 4G LTE</li>
                    <li><i class="fa fa-check text-primary" aria-hidden="true"></i> No Data Limit</li>
                    <li><i class="fa fa-check text-primary" aria-hidden="true"></i> No Throttling</li>
                  </ul>
                </div>
                <div class="col-md">
                  <ul class="list-unstyled column-collapse">
                    <li><i class="fa fa-check text-primary" aria-hidden="true"></i> No Contract</li>
                    <li><i class="fa fa-check text-primary" aria-hidden="true"></i> No Credit Check</li><li><i class="fa fa-check text-primary" aria-hidden="true"></i> <a class="text-400 modal-link" href="#guarantee_modal" data-toggle="modal" >14-Day No Risk</a></li>
                  </ul>
                </div>
              </div>
              <div class="row mt-4">
                <div class="col-md col-lg-12 col-xl">
                  <a href="https://www.att.com/maps/wireless-coverage.html" target="_blank" class="btn btn-lg btn-block btn-outline-plan-blue"><i class="fa fa-signal" aria-hidden="true"></i>&nbsp;&nbsp;Plan Coverage </a>
                </div>
                <div class="col-md col-lg-12 col-xl mt-4 mt-md-0 mt-lg-4 mt-xl-0">
                  <button type="button" class="btn-lg single_add_to_cart_button_blue btn-block btn btn-primary"><span><i class="fa-fw fas fa-shopping-cart" aria-hidden="true"></i>&nbsp;</span> Choose Plan</button>
                </div>
              </div>
            </div>
          </div>

        </form>


      </div> 

      {% comment %}

      <div class="col col-12 col-sm-12 col-md-12 col-lg-6">

        <form action="/cart/add" method="post" id="product-form-red">
          <div class="plan-listing card-plan-list card-red">
            <h2 class="plan-listing__title"><i class="fas fa-signal"></i> Deep <strong>Red Plan</strong></h2>
            <div class="card-body">
              <div class="row">
                <div class="col col-12 col-md-6 pro_img">
                  <img src="{{ product3.featured_image.src | img_url:'300x300' }}" class="img-fluid" />
                </div>
                <div class="col col-12 col-md-6 no_padding">
                  <span class="price">
                    <span class="price-currencysymbol">$</span>
                    <span class="price-amount">149</span>
                    <span class="subscription-details"> / month </span>
                  </span>
                  <span class="fee d-block">( with a 14-day free trial )</span>
                  <span class="fee">
                    + <del style="color:red;"><span class="price-amount_was"><span class="price-currencysymbol">$</span>199</span>  One-Time Membership Fee</del><a href="#fee_modal" data-toggle="modal" class="money-back1 modal-link"><i class="fa fa-question-circle" aria-hidden="true"></i></a><br/>
                    <span class="hide_on_sim">+ <span class="price-amount"><span class="price-currencysymbol">$</span>149</span> Setup Sale Price</span>
                  </span>
                  <select name="id" id="productSelect_red" class="product-single__variants form-control wc-default-select form-control-lg">
                    <option value="">Choose an option</option>
                    {% for variant in product3.variants %}
                    {% if variant.available %}
                    <option data-sku="{{ variant.sku }}" value="{{ variant.id }}">{{ variant.title }}</option>
                    {% else %}
                    <option disabled="disabled">
                      {{ variant.title }} - {{ 'products.product.sold_out' | t }}
                    </option>
                    {% endif %}
                    {% endfor %}
                  </select>                  
                  <script>
                    $(document).ready(function(){
                      jQuery("#product-form-red .single-option-selector").prop('selectedIndex', 1).trigger('change');
                    });
                  </script>
                  <div class="compare">
                    <a href="#compare_modal" data-toggle="modal" class="text-gray-600 modal-link"><i class="fas fa-mobile" aria-hidden="true"></i>&nbsp;&nbsp;Compare Devices </a>
                  </div>
                </div>
              </div>
              <div class="features row ">
                <div class="col-md">
                  <ul class="list-unstyled border-top">
                    <li><i class="fa fa-check text-primary" aria-hidden="true"></i> Unlimited 4G LTE</li>
                    <li><i class="fa fa-check text-primary" aria-hidden="true"></i> No Data Limit</li>
                    <li><i class="fa fa-check text-primary" aria-hidden="true"></i> No Throttling</li>
                  </ul>
                </div>
                <div class="col-md">
                  <ul class="list-unstyled column-collapse">
                    <li><i class="fa fa-check text-primary" aria-hidden="true"></i> No Contract</li>
                    <li><i class="fa fa-check text-primary" aria-hidden="true"></i> No Credit Check</li><li><i class="fa fa-check text-primary" aria-hidden="true"></i> <a class="text-400 modal-link" href="#guarantee_modal" data-toggle="modal" >14-Day No Risk</a></li>
                  </ul>
                </div>
              </div>
              <div class="row mt-4">
                <div class="col-md col-lg-12 col-xl">
                  <a href="http://verizon.cellmaps.com/" target="_blank" class="btn btn-lg btn-block btn-outline-plan-red"><i class="fa fa-signal" aria-hidden="true"></i>&nbsp;&nbsp;Plan Coverage </a>
                </div>
                <div class="col-md col-lg-12 col-xl mt-4 mt-md-0 mt-lg-4 mt-xl-0">
                  <button type="button" class="btn-lg single_add_to_cart_button_red btn-block btn btn-primary"><span><i class="fa-fw fas fa-shopping-cart" aria-hidden="true"></i>&nbsp;</span> Choose Plan</button>
                </div>
              </div>
            </div>
          </div>

        </form>

      </div> 

      {% endcomment %}


      <div class="col col-12 col-sm-12 col-md-12 col-lg-6">

        <form action="/cart/add" method="post" id="product-form-yellow">
          <div class="plan-listing card-plan-list card-yellow">
            <h2 class="plan-listing__title"><i class="fas fa-signal"></i> Bright <strong>Yellow Plan</strong></h2>
            <div class="card-body">
              <div class="row">
                <div class="col col-12 col-md-6 pro_img">
                  <img src="{{ product4.featured_image.src | img_url:'300x300' }}" class="img-fluid" />
                </div>
                <div class="col col-12 col-md-6 no_padding">
                  <span class="price">
                    <span class="price-currencysymbol">$</span>
                    <span class="price-amount">179</span>
                    <span class="subscription-details"> / month </span>
                  </span>
                  <span class="fee d-block">( with a 14-day trial )</span>
                  <span class="fee">
                    + <del style="color:red;"><span class="price-amount_was"><span class="price-currencysymbol">$</span>199</span>  One-Time Membership Fee</del><a href="#fee_modal" data-toggle="modal" class="money-back1 modal-link"><i class="fa fa-question-circle" aria-hidden="true"></i></a><br/>
                    <span class="hide_on_sim">+ <span class="price-amount"><span class="price-currencysymbol">$</span>149</span> Setup Sale Price</span>
                  </span>
                  <select name="id" id="productSelect_yellow" class="product-single__variants form-control wc-default-select form-control-lg">
                    <option value="">Choose an option</option>
                    {% for variant in product4.variants %}
                    {% if variant.available %}
                    <option data-sku="{{ variant.sku }}" value="{{ variant.id }}">{{ variant.title }}</option>
                    {% else %}
                    <option disabled="disabled">
                      {{ variant.title }} - {{ 'products.product.sold_out' | t }}
                    </option>
                    {% endif %}
                    {% endfor %}
                  </select>
                  <script>
                    $(document).ready(function(){
                      $(document).ready(function() {
                        $("#product-form-yellow select option").each(function(index, value) {
                          $("#product-form-yellow select option").removeAttr("selected");
                          $("#product-form-yellow select option").prop("selected", false);
                        });
                        $("#product-form-yellow select option[value='GL- WiFi Router']").attr('selected', 'selected').change();
                      });
                      //jQuery("#product-form-yellow .single-option-selector").prop('selectedIndex', 2).trigger('change');
                    });
                  </script>
                  <div class="compare">
                    <a href="#compare_modal" data-toggle="modal" class="text-gray-600 modal-link"><i class="fas fa-mobile" aria-hidden="true"></i>&nbsp;&nbsp;Compare Devices </a>
                  </div>
                </div>
              </div>
              <div class="features row ">
                <div class="col-md">
                  <ul class="list-unstyled border-top">
                    <li><i class="fa fa-check text-primary" aria-hidden="true"></i> Unlimited 4G LTE</li>
                    <li><i class="fa fa-check text-primary" aria-hidden="true"></i> No Data Limit</li>
                    <li><i class="fa fa-check text-primary" aria-hidden="true"></i> No Throttling</li>
                  </ul>
                </div>
                <div class="col-md">
                  <ul class="list-unstyled column-collapse">
                    <li><i class="fa fa-check text-primary" aria-hidden="true"></i> No Contract</li>
                    <li><i class="fa fa-check text-primary" aria-hidden="true"></i> No Credit Check</li><li><i class="fa fa-check text-primary" aria-hidden="true"></i> <a class="text-400 modal-link" href="#guarantee_modal" data-toggle="modal" >14-Day No Risk</a></li>
                  </ul>
                </div>
              </div>
              <div class="row mt-4">
                <div class="col-md col-lg-12 col-xl">
                  <a href="https://href.li/?https://coverage.sprint.com/IMPACT.jsp?" target="_blank" class="btn btn-lg btn-block btn-outline-plan-yellow"><i class="fa fa-signal" aria-hidden="true"></i>&nbsp;&nbsp;Plan Coverage </a>
                </div>
                <div class="col-md col-lg-12 col-xl mt-4 mt-md-0 mt-lg-4 mt-xl-0">
                  <button type="button" class="btn-lg single_add_to_cart_button_yellow btn-block btn btn-primary"><span><i class="fa-fw fas fa-shopping-cart" aria-hidden="true"></i>&nbsp;</span> Choose Plan</button>
                </div>
              </div>
            </div>
          </div>

        </form>

      </div> 
    </div>
  </div>
</section>
{{ 'option_selection.js' | shopify_asset_url | script_tag }}
<script>

  window.timber = window.timber || {};

  timber.switchImage = function (src, imgObject, el) {
    // Make sure element is a jquery object
    var $el = $(el);
    $el.attr('src', src);
  };

  timber.productPagepink = function (options) {
    var moneyFormat = options.money_format,
        variant = options.variant,
        selector = options.selector;

    // Selectors
    var $productImage = $('.card-pink .card-body img'),
        $productPrice = $('.card-pink .fee .price-amount'),
        $productwasPrice = $('.card-pink .fee .price-amount_was');

    if (variant) {
      // Update variant image, if one is set
      if (variant.featured_image) {
        var newImg = variant.featured_image,
            el = $productImage[0];
        Shopify.Image.switchImage(newImg, el, timber.switchImage);
      }
      console.log(variant);
      if(variant.title  == 'Sim Only (bring your own device)'){
        $productwasPrice.html('Free');
        $('#product-form-pink .fee .price-amount').css('color','red');
        $('#product-form-pink .fee del').css('text-decoration','none');
        $('.card-pink .fee .hide_on_sim').hide();
      }
      else{
        $('.card-pink .fee .hide_on_sim').show();
        $productPrice.html(Shopify.formatMoney(variant.price, moneyFormat));
        $productwasPrice.html(Shopify.formatMoney(variant.compare_at_price, moneyFormat));
        $('#product-form-pink .fee .price-amount').css('color','#515151');
        $('#product-form-pink .fee del').css('text-decoration','line-through');
      }

    }
  };

  timber.productPageblue = function (options) {
    var moneyFormat = options.money_format,
        variant = options.variant,
        selector = options.selector;

    // Selectors
    var $productImage = $('.card-blue .card-body img'),
        $productPrice = $('.card-blue .fee .price-amount'),
        $productwasPrice = $('.card-blue .fee .price-amount_was');

    if (variant) {
      // Update variant image, if one is set
      if (variant.featured_image) {
        var newImg = variant.featured_image,
            el = $productImage[0];
        Shopify.Image.switchImage(newImg, el, timber.switchImage);
      }

      if(variant.title  == 'Sim Only (bring your own device)'){
        $productwasPrice.html('Free');
        $('#product-form-blue .fee .price-amount').css('color','red');
        $('#product-form-blue .fee del').css('text-decoration','none');
        $('.card-blue .fee .hide_on_sim').hide();
      }
      else{
        $('.card-blue .fee .hide_on_sim').show();
        $productPrice.html(Shopify.formatMoney(variant.price, moneyFormat));
        $productwasPrice.html(Shopify.formatMoney(variant.compare_at_price, moneyFormat));
        $('#product-form-blue .fee .price-amount').css('color','#515151');
        $('#product-form-blue .fee del').css('text-decoration','line-through');
      }
    }
  };

  /* timber.productPagered = function (options) {
    var moneyFormat = options.money_format,
        variant = options.variant,
        selector = options.selector;

    // Selectors
    var $productImage = $('.card-red .card-body img'),
        $productPrice = $('.card-red .fee .price-amount');

    if (variant) {
      // Update variant image, if one is set
      if (variant.featured_image) {
        var newImg = variant.featured_image,
            el = $productImage[0];
        Shopify.Image.switchImage(newImg, el, timber.switchImage);
      }

      // Regardless of stock, update the product price
      $productPrice.html(Shopify.formatMoney(variant.price, moneyFormat));
    }
  };*/

  timber.productPageyellow = function (options) {
    var moneyFormat = options.money_format,
        variant = options.variant,
        selector = options.selector;

    // Selectors
    var $productImage = $('.card-yellow .card-body img'),
        $productPrice = $('.card-yellow .fee .price-amount'),
        $productwasPrice = $('.card-yellow .fee .price-amount_was');

    if (variant) {
      // Update variant image, if one is set
      if (variant.featured_image) {
        var newImg = variant.featured_image,
            el = $productImage[0];
        Shopify.Image.switchImage(newImg, el, timber.switchImage);
      }

      // Regardless of stock, update the product price
      $productPrice.html(Shopify.formatMoney(variant.price, moneyFormat));
      $productwasPrice.html(Shopify.formatMoney(variant.compare_at_price, moneyFormat));
    }
  };



  var selectCallbackpink = function(variant, selector) {
    timber.productPagepink({
      money_format: "{{ shop.money_format }}",
      variant: variant,
      selector: selector
    });
  };
  var selectCallbackblue = function(variant, selector) {
    timber.productPageblue({
      money_format: "{{ shop.money_format }}",
      variant: variant,
      selector: selector
    });
  };
  /*  var selectCallbackred = function(variant, selector) {
    timber.productPagered({
      money_format: "{{ shop.money_format }}",
      variant: variant,
      selector: selector
    });
  };*/
  var selectCallbackyellow = function(variant, selector) {
    timber.productPageyellow({
      money_format: "{{ shop.money_format }}",
      variant: variant,
      selector: selector
    });
  };

  jQuery(function($) {
    new Shopify.OptionSelectors('productSelect_pink', {
      product: {{ product1 | json }},
      onVariantSelected: selectCallbackpink,
      enableHistoryState: false
    });
  });
  jQuery(function($) {
    new Shopify.OptionSelectors('productSelect_blue', {
      product: {{ product2 | json }},
      onVariantSelected: selectCallbackblue,
      enableHistoryState: false
    });
  });
  /* jQuery(function($) {
    new Shopify.OptionSelectors('productSelect_red', {
      product: {{ product3 | json }},
      onVariantSelected: selectCallbackred,
      enableHistoryState: false
    });
  });*/
  jQuery(function($) {
    new Shopify.OptionSelectors('productSelect_yellow', {
      product: {{ product4 | json }},
      onVariantSelected: selectCallbackyellow,
      enableHistoryState: false
    });
  });
</script>


<script>
  $(document).ready(function(){
    $('.single_add_to_cart_button_pink').click(function(){

      var already_have = 0;
      $.ajax({
        type: 'GET',
        url: '/cart.js',
        dataType: 'json',
        success: function(cart) {
          $.each(cart.items, function(index, cartItem){
            if(cartItem.product_title == 'Strong Pink Plan'){
              already_have = 1;
            }
          });

          if(already_have == 0){
            var params = {
              type: 'POST',
              url: '/cart/add.js',
              data: $('#product-form-pink').serialize(),
              dataType: 'json',
              success: function(line_item) {

                if($('#productSelect_pink option:selected').text() == 'Sim Only (bring your own device)'){
                  var data = {
                    "id" : 31723159519290,
                    "quantity" : 1,
                    "properties[Note]": "After 30 days $99/month",
                    "properties[shipping_interval_unit_type]": 'days',
                    "properties[shipping_interval_frequency]": 30,
                    "properties[subscription_id]": 256060
                  };
                }
                else{
                  var data = {
                    "id" : 31407604465722,
                    "quantity" : 1,
                    "properties[Note]": "After 30 days $99/month",
                    "properties[shipping_interval_unit_type]": 'days',
                    "properties[shipping_interval_frequency]": 30,
                    "properties[subscription_id]": 240698
                  };
                }

                $.ajax({
                  type: 'POST',
                  url: '/cart/add.js',
                  dataType: 'json',
                  data: data,
                  success: function(){
                    window.location.href='/cart';
                  },
                  error: function (request, status, error) {
                    console.log(request.responseText);
                  }
                });
              },
              error: function(XMLHttpRequest, textStatus) {
                Shopify.onError(XMLHttpRequest, textStatus);
              }
            };
            jQuery.ajax(params);
          }
          else{
            $('.already_have_plan').trigger('click');
          }

        },
      });

    });
    $('.single_add_to_cart_button_blue').click(function(){
      var already_have = 0;
      $.ajax({
        type: 'GET',
        url: '/cart.js',
        dataType: 'json',
        success: function(cart) {
          $.each(cart.items, function(index, cartItem){
            if(cartItem.product_title == 'Very Blue Plan'){
              already_have = 1;
            }
          });

          if(already_have == 0){
            var params = {
              type: 'POST',
              url: '/cart/add.js',
              data: $('#product-form-blue').serialize(),
              dataType: 'json',
              success: function(line_item) {
                if($('#productSelect_blue option:selected').text() == 'Sim Only (bring your own device)'){
                  var data = {
                    "id" : 31607888773178,
                    "quantity" : 1,
                    "properties[Note]": "After 30 days $129/month",
                    "properties[shipping_interval_unit_type]": 'days',
                    "properties[shipping_interval_frequency]": 30,
                    "properties[subscription_id]": 252048
                  };
                }
                else{
                  var data = {
                    "id" : 31501542064186,
                    "quantity" : 1,
                    "properties[Note]": "After 30 days $129/month",
                    "properties[shipping_interval_unit_type]": 'days',
                    "properties[shipping_interval_frequency]": 30,
                    "properties[subscription_id]": 240698
                  };
                }
                $.ajax({
                  type: 'POST',
                  url: '/cart/add.js',
                  dataType: 'json',
                  data: data,
                  success: function(){
                    window.location.href='/cart';
                  },
                  error: function (request, status, error) {
                    console.log(request.responseText);
                  }
                });
              },
              error: function(XMLHttpRequest, textStatus) {
                Shopify.onError(XMLHttpRequest, textStatus);
              }
            };
            jQuery.ajax(params);
          }
          else{
            $('.already_have_plan').trigger('click');
          }

        },
      });

    });
    /*   $('.single_add_to_cart_button_red').click(function(){

      var already_have = 0;
      $.ajax({
        type: 'GET',
        url: '/cart.js',
        dataType: 'json',
        success: function(cart) {
          $.each(cart.items, function(index, cartItem){
            if(cartItem.product_title == 'Deep Red Plan'){
              already_have = 1;
            }
          });

          if(already_have == 0){
            var params = {
              type: 'POST',
              url: '/cart/add.js',
              data: $('#product-form-red').serialize(),
              dataType: 'json',
              success: function(line_item) {
                var data = {
                  "id" : 31407604400186,
                  "quantity" : 1,
                  "properties[Note]": "After 30 days $149/month",
                  "properties[shipping_interval_unit_type]": 'days',
                  "properties[shipping_interval_frequency]": 30,
                  "properties[subscription_id]": 240698
                };

                $.ajax({
                  type: 'POST',
                  url: '/cart/add.js',
                  dataType: 'json',
                  data: data,
                  success: function(){
                    window.location.href='/cart';
                  },
                  error: function (request, status, error) {
                    console.log(request.responseText);
                  }
                });
              },
              error: function(XMLHttpRequest, textStatus) {
                Shopify.onError(XMLHttpRequest, textStatus);
              }
            };
            jQuery.ajax(params);
          }
          else{
            $('.already_have_plan').trigger('click');
          }

        },
      });

    });*/

    $('.single_add_to_cart_button_yellow').click(function(){


      var already_have = 0;
      $.ajax({
        type: 'GET',
        url: '/cart.js',
        dataType: 'json',
        success: function(cart) {
          $.each(cart.items, function(index, cartItem){
            if(cartItem.product_title == 'Bright Yellow Plan'){
              already_have = 1;
            }
          });

          if(already_have == 0){
            var params = {
              type: 'POST',
              url: '/cart/add.js',
              data: $('#product-form-yellow').serialize(),
              dataType: 'json',
              success: function(line_item) {
                var data = {
                  "id" : 31407605448762,
                  "quantity" : 1,
                  "properties[Note]": "After 30 days $179/month",
                  "properties[shipping_interval_unit_type]": 'days',
                  "properties[shipping_interval_frequency]": 30,
                  "properties[subscription_id]": 240698
                };

                $.ajax({
                  type: 'POST',
                  url: '/cart/add.js',
                  dataType: 'json',
                  data: data,
                  success: function(){
                    window.location.href='/cart';
                  },
                  error: function (request, status, error) {
                    console.log(request.responseText);
                  }
                });
              },
              error: function(XMLHttpRequest, textStatus) {
                Shopify.onError(XMLHttpRequest, textStatus);
              }
            };
            jQuery.ajax(params);
          }
          else{
            $('.already_have_plan').trigger('click');
          }

        },
      });


    });
  });
</script>
<style>
  .card-body img{max-width:200px;}
  .pro_img{text-align:center;}
  @media (max-width: 768px) {
    .plan-card p{margin-bottom:2rem;}
  }
</style>
